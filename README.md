# Welcome Gatsby Training
A training workshop by [Mediacurrent](https://mediacurrent.com).

## Getting Started
This repo includes everything you need to set up a [Lando-based](https://docs.devwithlando.io/) local Drupal development environment, along with the required front end tools (Node, Pattern Lab, Gulp, etc.). For best results, follow these steps to get your environment setup.

Lando is a free, open source, cross-platform, local development environment tool built on Docker container technology.

### Prerequisites

This is only going to work if you have a fairly new computer. According to the [Lando documentation](https://docs.devwithlando.io/installation/system-requirements.html#operating-system) you will need one of the following:

* macOS 10.10+ \(May need to install command line tools\)
* Windows 10 Pro+ \(or equivalent\) with Hyper-V running
* Linux \(with kernel version 4.x or higher\)

  So far, we have tested only with macOS 10.13 \(High Sierra\) and 10.14 \(Mojave\).

## 1. Install Lando and Docker

Watch the [Step-by-step video tutorial](https://www.dropbox.com/s/pa7mdlung83cdri/cbd-local-setup.mp4?dl=0) to setup your local dev environment.  If you want to do it on your own, follow the steps below.

* [Install Lando and Docker](https://github.com/lando/lando/releases) (Select latest version)


**IMPORTANT**

* **Docker is required**

  Docker makes it possible to build containers for any of the third party integrations required in your environment. If you already have Docker installed you don't need to install it again as part of Lando's installation.

**NOTE**: If you are using macOS, you may need to install XCode's Command Line Tools.

## 2. Clone this repo anywhere in you local system
You can clone or download the repo anywhere in your computer (i.e. Sites, Downloads, Documents, Desktop, etc.).

* In your preferred terminal app, run the following command:<br />
```git clone https://github.com/mediacurrent/gatsby-training.git```


## 3. Build the environment:

1. In your command line type/run `cd gatsby-training` <br />
**NOTE**: _This is the default directory generated by cloning the repo.  If you changed the directory name when cloning the repo, cd into that directory instead_.

    **WINDOWS USERS:**  Use Power Shell to run all commands.


2. Run `lando start`<br />_This will set up Lando plus pull down and install Drupal and required contrib modules. This process could take a few minutes to complete, please do not interrupt it._

3. Run `cd gatsby` to enter the Gatsby directory and then run `lando npm start` to start the Gatsby dev server. If it is successful, your gatsby site will be accessible at `http://gatsby.lndo.site`.


---

### Preview your site
To see Drupal up and running go to http://nitflex.lndo.site/

Your site's credentials are:  username: `admin`, password: `admin`

You should see Drupal's homepage which includes a list of movies with images, title and other text content.

In some instances, depending on your environment, you may need to append port 8000 to the url (i.e. http://nitflex.lndo.site:8000).

To see Gatsby up and running, `cd gatsby && lando npm start`, then Gatsby should be visible at http://gatsby.lndo.site/


### You are done! ðŸ™Œ ðŸ”¥ ðŸ‘Š


## Managing your Lando environment
* To shutdown Lando so it is not consuming your machine's resources run<br />
```lando poweroff```

* To restart lando run<br /> ```lando restart```

* If you want to rebuild your lando environment run <br />```lando rebuild```

* To destroy your environment completely, run <br />```lando destroy```

Learn more about [Lando](https://docs.devwithlando.io/).
